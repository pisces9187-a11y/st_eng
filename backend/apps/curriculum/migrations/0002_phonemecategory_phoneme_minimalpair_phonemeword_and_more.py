# Generated by Django 5.2.9 on 2025-12-08 16:26

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('curriculum', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='PhonemeCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='Tên danh mục')),
                ('name_vi', models.CharField(max_length=100, verbose_name='Tên tiếng Việt')),
                ('category_type', models.CharField(choices=[('vowel', 'Nguyên âm đơn (Monophthongs)'), ('diphthong', 'Nguyên âm đôi (Diphthongs)'), ('consonant', 'Phụ âm (Consonants)')], db_index=True, default='vowel', max_length=20)),
                ('description', models.TextField(blank=True, verbose_name='Mô tả')),
                ('description_vi', models.TextField(blank=True, verbose_name='Mô tả tiếng Việt')),
                ('icon', models.CharField(blank=True, max_length=50, verbose_name='Icon class')),
                ('order', models.PositiveIntegerField(db_index=True, default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Danh mục âm',
                'verbose_name_plural': 'Danh mục âm',
                'db_table': 'phoneme_categories',
                'ordering': ['order', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Phoneme',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ipa_symbol', models.CharField(max_length=10, unique=True, verbose_name='Ký hiệu IPA')),
                ('vietnamese_approx', models.CharField(blank=True, max_length=50, verbose_name='Phát âm gần đúng (tiếng Việt)')),
                ('phoneme_type', models.CharField(choices=[('short_vowel', 'Nguyên âm ngắn'), ('long_vowel', 'Nguyên âm dài'), ('diphthong', 'Nguyên âm đôi'), ('plosive', 'Âm bật hơi (Plosives)'), ('fricative', 'Âm xát (Fricatives)'), ('affricate', 'Âm tắc xát (Affricates)'), ('nasal', 'Âm mũi (Nasals)'), ('approximant', 'Âm tiếp cận (Approximants)'), ('lateral', 'Âm bên (Laterals)')], db_index=True, default='short_vowel', max_length=20)),
                ('voicing', models.CharField(choices=[('voiced', 'Hữu thanh (Voiced)'), ('voiceless', 'Vô thanh (Voiceless/Unvoiced)'), ('n/a', 'Không áp dụng')], default='n/a', max_length=10)),
                ('mouth_position', models.TextField(blank=True, verbose_name='Vị trí miệng')),
                ('mouth_position_vi', models.TextField(blank=True, verbose_name='Vị trí miệng (tiếng Việt)')),
                ('tongue_position', models.TextField(blank=True, verbose_name='Vị trí lưỡi')),
                ('tongue_position_vi', models.TextField(blank=True, verbose_name='Vị trí lưỡi (tiếng Việt)')),
                ('pronunciation_tips', models.TextField(blank=True, verbose_name='Mẹo phát âm')),
                ('pronunciation_tips_vi', models.TextField(blank=True, verbose_name='Mẹo phát âm (tiếng Việt)')),
                ('audio_sample', models.FileField(blank=True, null=True, upload_to='phonemes/audio/', verbose_name='Audio mẫu')),
                ('mouth_diagram', models.ImageField(blank=True, null=True, upload_to='phonemes/diagrams/', verbose_name='Hình miệng')),
                ('common_mistakes_vi', models.TextField(blank=True, verbose_name='Lỗi người Việt hay mắc')),
                ('order', models.PositiveIntegerField(db_index=True, default=0)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('paired_phoneme', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='pair', to='curriculum.phoneme', verbose_name='Âm ghép cặp')),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='phonemes', to='curriculum.phonemecategory', verbose_name='Danh mục')),
            ],
            options={
                'verbose_name': 'Âm vị (Phoneme)',
                'verbose_name_plural': 'Âm vị (Phonemes)',
                'db_table': 'phonemes',
                'ordering': ['category', 'order'],
            },
        ),
        migrations.CreateModel(
            name='MinimalPair',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('word_1', models.CharField(max_length=100, verbose_name='Từ 1')),
                ('word_1_ipa', models.CharField(max_length=200, verbose_name='IPA từ 1')),
                ('word_1_meaning', models.CharField(blank=True, max_length=200, verbose_name='Nghĩa từ 1')),
                ('word_1_audio', models.FileField(blank=True, null=True, upload_to='minimal_pairs/audio/')),
                ('word_2', models.CharField(max_length=100, verbose_name='Từ 2')),
                ('word_2_ipa', models.CharField(max_length=200, verbose_name='IPA từ 2')),
                ('word_2_meaning', models.CharField(blank=True, max_length=200, verbose_name='Nghĩa từ 2')),
                ('word_2_audio', models.FileField(blank=True, null=True, upload_to='minimal_pairs/audio/')),
                ('difference_note', models.TextField(blank=True, verbose_name='Ghi chú khác biệt')),
                ('difference_note_vi', models.TextField(blank=True, verbose_name='Ghi chú khác biệt (TV)')),
                ('difficulty', models.PositiveSmallIntegerField(default=1, verbose_name='Độ khó (1-5)')),
                ('order', models.PositiveIntegerField(default=0)),
                ('phoneme_1', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='minimal_pairs_1', to='curriculum.phoneme', verbose_name='Âm 1')),
                ('phoneme_2', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='minimal_pairs_2', to='curriculum.phoneme', verbose_name='Âm 2')),
            ],
            options={
                'verbose_name': 'Cặp tối thiểu',
                'verbose_name_plural': 'Cặp tối thiểu',
                'db_table': 'minimal_pairs',
                'ordering': ['phoneme_1', 'order'],
            },
        ),
        migrations.CreateModel(
            name='PhonemeWord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('word', models.CharField(max_length=100, verbose_name='Từ')),
                ('ipa_transcription', models.CharField(max_length=200, verbose_name='Phiên âm IPA')),
                ('meaning_vi', models.CharField(blank=True, max_length=200, verbose_name='Nghĩa tiếng Việt')),
                ('phoneme_position', models.CharField(choices=[('initial', 'Đầu từ'), ('medial', 'Giữa từ'), ('final', 'Cuối từ')], default='initial', max_length=10)),
                ('highlight_start', models.PositiveSmallIntegerField(default=0)),
                ('highlight_end', models.PositiveSmallIntegerField(default=1)),
                ('audio_file', models.FileField(blank=True, null=True, upload_to='phoneme_words/audio/')),
                ('audio_slow', models.FileField(blank=True, null=True, upload_to='phoneme_words/audio_slow/')),
                ('order', models.PositiveIntegerField(default=0)),
                ('phoneme', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='example_words', to='curriculum.phoneme', verbose_name='Âm vị')),
            ],
            options={
                'verbose_name': 'Từ ví dụ',
                'verbose_name_plural': 'Từ ví dụ',
                'db_table': 'phoneme_words',
                'ordering': ['phoneme', 'order'],
            },
        ),
        migrations.CreateModel(
            name='PronunciationLesson',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='Tiêu đề')),
                ('title_vi', models.CharField(max_length=200, verbose_name='Tiêu đề tiếng Việt')),
                ('slug', models.SlugField(blank=True, max_length=220, unique=True)),
                ('description', models.TextField(blank=True, verbose_name='Mô tả')),
                ('description_vi', models.TextField(blank=True, verbose_name='Mô tả tiếng Việt')),
                ('lesson_type', models.CharField(choices=[('single', 'Âm đơn lẻ'), ('pair_contrast', 'Cặp đối lập'), ('group', 'Nhóm âm'), ('review', 'Ôn tập'), ('test', 'Kiểm tra')], db_index=True, default='pair_contrast', max_length=20)),
                ('lesson_content', models.JSONField(blank=True, default=list, verbose_name='Nội dung bài học')),
                ('objectives', models.JSONField(blank=True, default=list, verbose_name='Mục tiêu học tập')),
                ('estimated_minutes', models.PositiveIntegerField(default=10, verbose_name='Thời gian (phút)')),
                ('xp_reward', models.PositiveIntegerField(default=15, verbose_name='XP thưởng')),
                ('difficulty', models.PositiveSmallIntegerField(default=1, verbose_name='Độ khó')),
                ('part_number', models.PositiveSmallIntegerField(default=1, verbose_name='Phần')),
                ('unit_number', models.PositiveSmallIntegerField(default=1, verbose_name='Bài số')),
                ('status', models.CharField(choices=[('draft', 'Nháp'), ('published', 'Đã xuất bản'), ('archived', 'Lưu trữ')], db_index=True, default='draft', max_length=10)),
                ('order', models.PositiveIntegerField(db_index=True, default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('phonemes', models.ManyToManyField(related_name='pronunciation_lessons', to='curriculum.phoneme', verbose_name='Âm vị trong bài')),
                ('prerequisites', models.ManyToManyField(blank=True, related_name='unlocks', to='curriculum.pronunciationlesson', verbose_name='Điều kiện tiên quyết')),
            ],
            options={
                'verbose_name': 'Bài học phát âm',
                'verbose_name_plural': 'Bài học phát âm',
                'db_table': 'pronunciation_lessons',
                'ordering': ['part_number', 'unit_number', 'order'],
            },
        ),
        migrations.CreateModel(
            name='TongueTwister',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('text', models.TextField(verbose_name='Nội dung')),
                ('ipa_transcription', models.TextField(blank=True, verbose_name='Phiên âm IPA')),
                ('meaning_vi', models.TextField(blank=True, verbose_name='Nghĩa tiếng Việt')),
                ('audio_normal', models.FileField(blank=True, null=True, upload_to='tongue_twisters/audio/')),
                ('audio_slow', models.FileField(blank=True, null=True, upload_to='tongue_twisters/audio_slow/')),
                ('difficulty', models.PositiveSmallIntegerField(default=1, verbose_name='Độ khó (1-5)')),
                ('order', models.PositiveIntegerField(default=0)),
                ('phoneme', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='tongue_twisters', to='curriculum.phoneme', verbose_name='Âm vị chính')),
                ('pronunciation_lesson', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='tongue_twisters', to='curriculum.pronunciationlesson', verbose_name='Bài học')),
            ],
            options={
                'verbose_name': 'Câu xoắn lưỡi',
                'verbose_name_plural': 'Câu xoắn lưỡi',
                'db_table': 'tongue_twisters',
                'ordering': ['difficulty', 'order'],
            },
        ),
    ]
