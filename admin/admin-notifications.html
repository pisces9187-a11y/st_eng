<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n L√Ω Th√¥ng B√°o - Admin Panel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght=600;700;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif;
            font-weight: 700;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 260px;
            background: linear-gradient(135deg, #183B56 0%, #0F2233 100%);
            color: white;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 4px 0 12px rgba(0,0,0,0.15);
        }

        .sidebar-header {
            padding: 24px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .sidebar-header h4 {
            color: #F47C26;
            font-size: 18px;
            font-weight: 800;
        }

        .nav-section {
            padding: 16px 0;
        }

        .nav-section-title {
            padding: 0 20px;
            font-size: 11px;
            text-transform: uppercase;
            color: rgba(255,255,255,0.5);
            font-weight: 600;
            margin-bottom: 8px;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s;
            font-size: 14px;
        }

        .nav-link:hover {
            background: rgba(255,255,255,0.1);
            color: white;
            padding-left: 28px;
        }

        .nav-link.active {
            background: linear-gradient(90deg, rgba(244,124,38,0.2) 0%, transparent 100%);
            color: #F47C26;
            border-left: 3px solid #F47C26;
        }

        .nav-link i {
            width: 24px;
            margin-right: 12px;
            font-size: 16px;
        }

        /* Main Content */
        .main-content {
            margin-left: 260px;
            padding: 32px;
        }

        .top-bar {
            background: white;
            padding: 20px 32px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 32px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .page-title {
            font-size: 28px;
            color: #183B56;
            font-weight: 800;
        }

        .admin-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .admin-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #F47C26, #FF9A56);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
        }

        /* Stats Cards */
        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border-left: 4px solid;
        }

        .stat-card.primary { border-color: #F47C26; }
        .stat-card.success { border-color: #2ECC71; }
        .stat-card.info { border-color: #3498DB; }
        .stat-card.warning { border-color: #F39C12; }

        .stat-value {
            font-size: 32px;
            font-weight: 800;
            color: #183B56;
            margin-bottom: 4px;
        }

        .stat-label {
            color: #7F8C8D;
            font-size: 14px;
        }

        /* Content Card */
        .content-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            overflow: hidden;
            margin-bottom: 24px;
        }

        .card-header {
            padding: 20px 24px;
            border-bottom: 1px solid #ECF0F1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-title {
            font-size: 18px;
            color: #183B56;
            font-weight: 700;
        }

        .btn-primary {
            background: linear-gradient(135deg, #F47C26 0%, #FF9A56 100%);
            border: none;
            padding: 10px 24px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(244,124,38,0.4);
        }

        .btn-secondary {
            background: #ECF0F1;
            color: #183B56;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.3s;
            cursor: pointer;
        }

        .btn-secondary:hover {
            background: #BDC3C7;
        }

        .card-body {
            padding: 24px;
        }

        /* Notification List */
        .notification-item {
            background: #F9FAFC;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            border-left: 4px solid;
            display: flex;
            justify-content: space-between;
            align-items: start;
            transition: all 0.3s;
        }

        .notification-item:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transform: translateX(4px);
        }

        .notification-item.push { border-color: #F47C26; }
        .notification-item.email { border-color: #3498DB; }
        .notification-item.inapp { border-color: #9B59B6; }
        .notification-item.sms { border-color: #2ECC71; }

        .notification-content {
            flex: 1;
        }

        .notification-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .notification-type {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .type-push { background: rgba(244,124,38,0.1); color: #F47C26; }
        .type-email { background: rgba(52,152,219,0.1); color: #3498DB; }
        .type-inapp { background: rgba(155,89,182,0.1); color: #9B59B6; }
        .type-sms { background: rgba(46,204,113,0.1); color: #2ECC71; }

        .notification-status {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-sent { background: rgba(46,204,113,0.1); color: #2ECC71; }
        .status-scheduled { background: rgba(241,196,15,0.1); color: #F39C12; }
        .status-draft { background: rgba(149,165,166,0.1); color: #95A5A6; }

        .notification-title {
            font-size: 16px;
            font-weight: 700;
            color: #183B56;
            margin-bottom: 4px;
        }

        .notification-meta {
            display: flex;
            gap: 16px;
            color: #7F8C8D;
            font-size: 13px;
            margin-top: 8px;
        }

        .notification-meta span {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .notification-actions {
            display: flex;
            gap: 8px;
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
            color: #7F8C8D;
        }

        .btn-icon:hover {
            background: #F47C26;
            color: white;
            transform: scale(1.1);
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .modal-header {
            padding: 24px;
            border-bottom: 1px solid #ECF0F1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 800;
            color: #183B56;
        }

        .close-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: none;
            background: #ECF0F1;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .close-btn:hover {
            background: #F47C26;
            color: white;
        }

        .modal-body {
            padding: 24px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #183B56;
            font-size: 14px;
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #ECF0F1;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: #F47C26;
        }

        textarea.form-control {
            resize: vertical;
            min-height: 100px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .checkbox-group {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .checkbox-label {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }

        .modal-footer {
            padding: 20px 24px;
            border-top: 1px solid #ECF0F1;
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        /* Filter Bar */
        .filter-bar {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            border: 2px solid #ECF0F1;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            color: #7F8C8D;
        }

        .filter-btn:hover,
        .filter-btn.active {
            border-color: #F47C26;
            background: #F47C26;
            color: white;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h4><i class="fas fa-graduation-cap"></i> ADMIN PANEL</h4>
            </div>
            
            <div class="nav-section">
                <div class="nav-section-title">Dashboard</div>
                <a href="admin-dashboard.html" class="nav-link">
                    <i class="fas fa-home"></i>
                    <span>T·ªïng Quan</span>
                </a>
                <a href="admin-analytics.html" class="nav-link">
                    <i class="fas fa-chart-line"></i>
                    <span>Ph√¢n T√≠ch</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">N·ªôi Dung</div>
                <a href="admin-lesson-editor.html" class="nav-link">
                    <i class="fas fa-book"></i>
                    <span>B√†i H·ªçc</span>
                </a>
                <a href="admin-flashcard.html" class="nav-link">
                    <i class="fas fa-layer-group"></i>
                    <span>Flashcards</span>
                </a>
                <a href="admin-questions.html" class="nav-link">
                    <i class="fas fa-question-circle"></i>
                    <span>C√¢u H·ªèi</span>
                </a>
                <a href="admin-assessments.html" class="nav-link">
                    <i class="fas fa-file-alt"></i>
                    <span>B√†i Ki·ªÉm Tra</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Ng∆∞·ªùi D√πng</div>
                <a href="admin-users.html" class="nav-link">
                    <i class="fas fa-users"></i>
                    <span>H·ªçc Vi√™n</span>
                </a>
                <a href="admin-teachers.html" class="nav-link">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <span>Gi√°o Vi√™n</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">T√†i Ch√≠nh</div>
                <a href="admin-revenue.html" class="nav-link">
                    <i class="fas fa-dollar-sign"></i>
                    <span>Doanh Thu</span>
                </a>
                <a href="admin-coupons.html" class="nav-link">
                    <i class="fas fa-ticket-alt"></i>
                    <span>M√£ Gi·∫£m Gi√°</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Marketing</div>
                <a href="admin-email-campaigns.html" class="nav-link">
                    <i class="fas fa-envelope"></i>
                    <span>Email Campaigns</span>
                </a>
                <a href="admin-notifications.html" class="nav-link active">
                    <i class="fas fa-bell"></i>
                    <span>Th√¥ng B√°o</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">H·ªó Tr·ª£</div>
                <a href="admin-support-tickets.html" class="nav-link">
                    <i class="fas fa-ticket-alt"></i>
                    <span>Support Tickets</span>
                </a>
                <a href="admin-reports.html" class="nav-link">
                    <i class="fas fa-chart-bar"></i>
                    <span>B√°o C√°o</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">H·ªá Th·ªëng</div>
                <a href="admin-settings.html" class="nav-link">
                    <i class="fas fa-cog"></i>
                    <span>C√†i ƒê·∫∑t</span>
                </a>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <h1 class="page-title">
                    <i class="fas fa-bell"></i> Qu·∫£n L√Ω Th√¥ng B√°o
                </h1>
                <div class="admin-info">
                    <div class="admin-avatar">AD</div>
                    <div>
                        <div style="font-weight: 700; color: #183B56;">Admin</div>
                        <div style="font-size: 12px; color: #7F8C8D;">Super Admin</div>
                    </div>
                </div>
            </div>

            <!-- Stats Row -->
            <div class="stats-row">
                <div class="stat-card primary">
                    <div class="stat-value">{{ stats.total }}</div>
                    <div class="stat-label">T·ªïng Th√¥ng B√°o</div>
                </div>
                <div class="stat-card success">
                    <div class="stat-value">{{ stats.sent }}</div>
                    <div class="stat-label">ƒê√£ G·ª≠i</div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-value">{{ stats.scheduled }}</div>
                    <div class="stat-label">ƒê√£ L√™n L·ªãch</div>
                </div>
                <div class="stat-card info">
                    <div class="stat-value">{{ stats.openRate }}%</div>
                    <div class="stat-label">T·ª∑ L·ªá M·ªü</div>
                </div>
            </div>

            <!-- Content Card -->
            <div class="content-card">
                <div class="card-header">
                    <h2 class="card-title">Danh S√°ch Th√¥ng B√°o</h2>
                    <button class="btn-primary" @click="openModal">
                        <i class="fas fa-plus"></i> T·∫°o Th√¥ng B√°o
                    </button>
                </div>
                <div class="card-body">
                    <!-- Filter Bar -->
                    <div class="filter-bar">
                        <button class="filter-btn" :class="{active: filterType === 'all'}" @click="filterType = 'all'">
                            T·∫•t C·∫£
                        </button>
                        <button class="filter-btn" :class="{active: filterType === 'push'}" @click="filterType = 'push'">
                            <i class="fas fa-mobile-alt"></i> Push
                        </button>
                        <button class="filter-btn" :class="{active: filterType === 'email'}" @click="filterType = 'email'">
                            <i class="fas fa-envelope"></i> Email
                        </button>
                        <button class="filter-btn" :class="{active: filterType === 'inapp'}" @click="filterType = 'inapp'">
                            <i class="fas fa-bell"></i> In-App
                        </button>
                        <button class="filter-btn" :class="{active: filterType === 'sms'}" @click="filterType = 'sms'">
                            <i class="fas fa-sms"></i> SMS
                        </button>
                    </div>

                    <!-- Notification List -->
                    <div v-for="notification in filteredNotifications" :key="notification.id" 
                         :class="['notification-item', notification.type]">
                        <div class="notification-content">
                            <div class="notification-header">
                                <span :class="['notification-type', 'type-' + notification.type]">
                                    {{ notification.type.toUpperCase() }}
                                </span>
                                <span :class="['notification-status', 'status-' + notification.status]">
                                    {{ getStatusText(notification.status) }}
                                </span>
                            </div>
                            <div class="notification-title">{{ notification.title }}</div>
                            <div style="color: #7F8C8D; margin-top: 4px;">{{ notification.message }}</div>
                            <div class="notification-meta">
                                <span>
                                    <i class="fas fa-users"></i>
                                    {{ notification.audience }}
                                </span>
                                <span>
                                    <i class="fas fa-clock"></i>
                                    {{ notification.scheduledDate }}
                                </span>
                                <span v-if="notification.status === 'sent'">
                                    <i class="fas fa-check-double"></i>
                                    {{ notification.delivered }} ng∆∞·ªùi nh·∫≠n
                                </span>
                            </div>
                        </div>
                        <div class="notification-actions">
                            <button class="btn-icon" @click="editNotification(notification)" title="Ch·ªânh s·ª≠a">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon" @click="duplicateNotification(notification)" title="Nh√¢n b·∫£n">
                                <i class="fas fa-copy"></i>
                            </button>
                            <button class="btn-icon" @click="deleteNotification(notification.id)" title="X√≥a">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>

                    <div v-if="filteredNotifications.length === 0" style="text-align: center; padding: 60px; color: #7F8C8D;">
                        <i class="fas fa-inbox" style="font-size: 64px; margin-bottom: 16px; opacity: 0.3;"></i>
                        <div style="font-size: 18px; font-weight: 600;">Kh√¥ng c√≥ th√¥ng b√°o n√†o</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Create/Edit Notification -->
        <div class="modal-overlay" :class="{active: showModal}" @click.self="closeModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">
                        {{ editingNotification ? 'Ch·ªânh S·ª≠a Th√¥ng B√°o' : 'T·∫°o Th√¥ng B√°o M·ªõi' }}
                    </h3>
                    <button class="close-btn" @click="closeModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label class="form-label">Ti√™u ƒê·ªÅ *</label>
                        <input type="text" class="form-control" v-model="form.title" 
                               placeholder="VD: Kh√≥a h·ªçc m·ªõi IELTS 7.0">
                    </div>

                    <div class="form-group">
                        <label class="form-label">N·ªôi Dung *</label>
                        <textarea class="form-control" v-model="form.message" 
                                  placeholder="Nh·∫≠p n·ªôi dung th√¥ng b√°o..."></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Lo·∫°i Th√¥ng B√°o *</label>
                            <select class="form-control" v-model="form.type">
                                <option value="push">Push Notification</option>
                                <option value="email">Email</option>
                                <option value="inapp">In-App</option>
                                <option value="sms">SMS</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">ƒê·ªëi T∆∞·ª£ng *</label>
                            <select class="form-control" v-model="form.audience">
                                <option value="T·∫•t c·∫£ ng∆∞·ªùi d√πng">T·∫•t c·∫£ ng∆∞·ªùi d√πng</option>
                                <option value="Ng∆∞·ªùi d√πng mi·ªÖn ph√≠">Ng∆∞·ªùi d√πng mi·ªÖn ph√≠</option>
                                <option value="Ng∆∞·ªùi d√πng tr·∫£ ph√≠">Ng∆∞·ªùi d√πng tr·∫£ ph√≠</option>
                                <option value="Ng∆∞·ªùi d√πng kh√¥ng ho·∫°t ƒë·ªông">Ng∆∞·ªùi d√πng kh√¥ng ho·∫°t ƒë·ªông</option>
                                <option value="Ng∆∞·ªùi d√πng m·ªõi">Ng∆∞·ªùi d√πng m·ªõi (7 ng√†y)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Ng√†y G·ª≠i *</label>
                            <input type="date" class="form-control" v-model="form.scheduledDate">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Gi·ªù G·ª≠i *</label>
                            <input type="time" class="form-control" v-model="form.scheduledTime">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Link H√†nh ƒê·ªông (T√πy ch·ªçn)</label>
                        <input type="url" class="form-control" v-model="form.actionUrl" 
                               placeholder="https://example.com/course/ielts-70">
                    </div>

                    <div class="form-group">
                        <label class="form-label">T√πy Ch·ªçn</label>
                        <div class="checkbox-group">
                            <label class="checkbox-label">
                                <input type="checkbox" v-model="form.sendImmediately">
                                <span>G·ª≠i ngay l·∫≠p t·ª©c</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" v-model="form.priority">
                                <span>∆Øu ti√™n cao</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn-secondary" @click="closeModal">H·ªßy</button>
                    <button class="btn-primary" @click="saveNotification">
                        <i class="fas fa-save"></i> L∆∞u
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    stats: {
                        total: 24,
                        sent: 18,
                        scheduled: 4,
                        openRate: 78.5
                    },
                    filterType: 'all',
                    showModal: false,
                    editingNotification: null,
                    form: {
                        title: '',
                        message: '',
                        type: 'push',
                        audience: 'T·∫•t c·∫£ ng∆∞·ªùi d√πng',
                        scheduledDate: '',
                        scheduledTime: '09:00',
                        actionUrl: '',
                        sendImmediately: false,
                        priority: false
                    },
                    notifications: [
                        {
                            id: 1,
                            type: 'push',
                            status: 'sent',
                            title: 'Kh√≥a IELTS 7.0 M·ªõi Ra M·∫Øt! üéâ',
                            message: 'ƒê·∫°t band ƒëi·ªÉm m∆° ∆∞·ªõc v·ªõi ph∆∞∆°ng ph√°p h·ªçc hi·ªán ƒë·∫°i. ∆Øu ƒë√£i 30% cho 100 h·ªçc vi√™n ƒë·∫ßu ti√™n!',
                            audience: 'T·∫•t c·∫£ ng∆∞·ªùi d√πng',
                            scheduledDate: '2025-01-15 09:00',
                            delivered: 5234
                        },
                        {
                            id: 2,
                            type: 'email',
                            status: 'sent',
                            title: 'B·∫°n ƒê√£ Ho√†n Th√†nh 50% Kh√≥a H·ªçc! üéì',
                            message: 'Ch√∫c m·ª´ng b·∫°n! Ti·∫øp t·ª•c n·ªó l·ª±c ƒë·ªÉ ho√†n th√†nh 50% c√≤n l·∫°i. Reward: 100 XP bonus ƒëang ch·ªù b·∫°n!',
                            audience: 'Ng∆∞·ªùi d√πng tr·∫£ ph√≠',
                            scheduledDate: '2025-01-14 14:30',
                            delivered: 1876
                        },
                        {
                            id: 3,
                            type: 'inapp',
                            status: 'scheduled',
                            title: 'Live Class: Speaking Practice üé§',
                            message: 'L·ªõp h·ªçc tr·ª±c tuy·∫øn v·ªõi gi√°o vi√™n b·∫£n x·ª©. Th·ª© 7 tu·∫ßn n√†y l√∫c 20:00. ƒêƒÉng k√Ω ngay!',
                            audience: 'Ng∆∞·ªùi d√πng tr·∫£ ph√≠',
                            scheduledDate: '2025-01-18 19:00',
                            delivered: null
                        },
                        {
                            id: 4,
                            type: 'push',
                            status: 'sent',
                            title: 'Streak 7 Ng√†y - B·∫°n Th·∫≠t Tuy·ªát! üî•',
                            message: 'B·∫°n ƒë√£ h·ªçc li√™n t·ª•c 7 ng√†y! Gi·ªØ v·ªØng phong ƒë·ªô ƒë·ªÉ nh·∫≠n badge ƒë·∫∑c bi·ªát.',
                            audience: 'Ng∆∞·ªùi d√πng tr·∫£ ph√≠',
                            scheduledDate: '2025-01-13 08:00',
                            delivered: 892
                        },
                        {
                            id: 5,
                            type: 'sms',
                            status: 'draft',
                            title: 'M√£ Gi·∫£m Gi√° 50% Cho B·∫°n üéÅ',
                            message: 'D√†nh ri√™ng cho b·∫°n! M√£: COMEBACK50. Hi·ªáu l·ª±c ƒë·∫øn 31/01/2025.',
                            audience: 'Ng∆∞·ªùi d√πng kh√¥ng ho·∫°t ƒë·ªông',
                            scheduledDate: '2025-01-20 10:00',
                            delivered: null
                        },
                        {
                            id: 6,
                            type: 'email',
                            status: 'scheduled',
                            title: 'Th·ª≠ Th√°ch 30 Ng√†y - B·∫Øt ƒê·∫ßu H√¥m Nay! üí™',
                            message: 'Tham gia challenge v√† nh·∫≠n certificate + 1000 XP. 500 ng∆∞·ªùi ƒë√£ tham gia!',
                            audience: 'T·∫•t c·∫£ ng∆∞·ªùi d√πng',
                            scheduledDate: '2025-01-17 07:00',
                            delivered: null
                        }
                    ]
                };
            },
            computed: {
                filteredNotifications() {
                    if (this.filterType === 'all') {
                        return this.notifications;
                    }
                    return this.notifications.filter(n => n.type === this.filterType);
                }
            },
            methods: {
                getStatusText(status) {
                    const map = {
                        sent: 'ƒê√£ G·ª≠i',
                        scheduled: 'ƒê√£ L√™n L·ªãch',
                        draft: 'B·∫£n Nh√°p'
                    };
                    return map[status] || status;
                },
                openModal() {
                    this.editingNotification = null;
                    this.resetForm();
                    this.showModal = true;
                },
                closeModal() {
                    this.showModal = false;
                },
                resetForm() {
                    this.form = {
                        title: '',
                        message: '',
                        type: 'push',
                        audience: 'T·∫•t c·∫£ ng∆∞·ªùi d√πng',
                        scheduledDate: '',
                        scheduledTime: '09:00',
                        actionUrl: '',
                        sendImmediately: false,
                        priority: false
                    };
                },
                editNotification(notification) {
                    this.editingNotification = notification;
                    this.form = {
                        title: notification.title,
                        message: notification.message,
                        type: notification.type,
                        audience: notification.audience,
                        scheduledDate: notification.scheduledDate.split(' ')[0],
                        scheduledTime: notification.scheduledDate.split(' ')[1] || '09:00',
                        actionUrl: '',
                        sendImmediately: false,
                        priority: false
                    };
                    this.showModal = true;
                },
                duplicateNotification(notification) {
                    const newNotification = {
                        ...notification,
                        id: Date.now(),
                        title: notification.title + ' (Copy)',
                        status: 'draft',
                        delivered: null
                    };
                    this.notifications.unshift(newNotification);
                    this.stats.total++;
                },
                saveNotification() {
                    if (!this.form.title || !this.form.message) {
                        alert('Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin!');
                        return;
                    }

                    const scheduledDateTime = `${this.form.scheduledDate} ${this.form.scheduledTime}`;
                    
                    if (this.editingNotification) {
                        // Update existing
                        Object.assign(this.editingNotification, {
                            title: this.form.title,
                            message: this.form.message,
                            type: this.form.type,
                            audience: this.form.audience,
                            scheduledDate: scheduledDateTime
                        });
                    } else {
                        // Create new
                        const newNotification = {
                            id: Date.now(),
                            type: this.form.type,
                            status: this.form.sendImmediately ? 'sent' : 'scheduled',
                            title: this.form.title,
                            message: this.form.message,
                            audience: this.form.audience,
                            scheduledDate: scheduledDateTime,
                            delivered: this.form.sendImmediately ? Math.floor(Math.random() * 5000) + 1000 : null
                        };
                        this.notifications.unshift(newNotification);
                        this.stats.total++;
                        if (this.form.sendImmediately) {
                            this.stats.sent++;
                        } else {
                            this.stats.scheduled++;
                        }
                    }

                    this.closeModal();
                },
                deleteNotification(id) {
                    if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a th√¥ng b√°o n√†y?')) {
                        const index = this.notifications.findIndex(n => n.id === id);
                        if (index !== -1) {
                            const notification = this.notifications[index];
                            this.notifications.splice(index, 1);
                            this.stats.total--;
                            if (notification.status === 'sent') this.stats.sent--;
                            if (notification.status === 'scheduled') this.stats.scheduled--;
                        }
                    }
                }
            }
        }).mount('#app');
    </script>
</body>
</html>